<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>“∞–ë–¢ ‚Äî –ê“õ—ã–ª—ã –ù“±—Å“õ–∞ 1 (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞)</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #f1c40f;
            --selected: #d6eaf8;
            --selected-border: #3498db;
            --text: #333;
            --bg: #f4f6f7;
        }

        body { font-family: 'Roboto', sans-serif; margin: 0; padding: 0; background-color: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; }

        header { background-color: var(--primary); color: white; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .logo { font-size: 1.2rem; font-weight: bold; }
        .logo span { color: var(--accent); }
        .timer-display { font-family: monospace; font-size: 1.4rem; border: 1px solid var(--accent); padding: 5px 15px; border-radius: 5px; color: var(--accent); background: rgba(0,0,0,0.2); }

        .main-container { display: flex; flex: 1; overflow: hidden; }
        .question-area { flex: 1; padding: 30px; overflow-y: auto; background: white; }
        .q-header { font-size: 0.9rem; color: #7f8c8d; margin-bottom: 10px; text-transform: uppercase; font-weight: bold; }
        .q-text { font-size: 1.25rem; font-weight: 500; margin-bottom: 20px; line-height: 1.5; }

        .q-image-container { text-align: center; margin-bottom: 20px; padding: 10px; border: 1px dashed #ccc; border-radius: 8px; background: #f9f9f9; display: none; }
        .q-image { max-width: 100%; max-height: 350px; height: auto; border-radius: 5px; }

        .options-list { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .options-list.grid-view { grid-template-columns: 1fr 1fr; }

        .option-label { display: flex; align-items: center; padding: 15px 20px; border: 2px solid #e0e0e0; border-radius: 8px; cursor: pointer; transition: 0.2s; background: white; font-size: 1rem; }
        .option-label:hover { background-color: #f8f9fa; border-color: #bdc3c7; }
        .option-label.active { background-color: var(--selected); border-color: var(--selected-border); }

        .marker { width: 25px; height: 25px; border: 2px solid #bdc3c7; border-radius: 50%; margin-right: 15px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-weight: bold; color: #7f8c8d; font-size: 0.9rem; }
        .option-label.multiple .marker { border-radius: 4px; }
        .option-label.active .marker { border-color: var(--selected-border); background: var(--selected-border); color: white; }

        .sidebar-nav { width: 320px; background: #fff; border-left: 1px solid #ddd; display: flex; flex-direction: column; }
        .nav-title { padding: 15px; background: #ecf0f1; color: var(--primary); font-weight: bold; text-align: center; border-bottom: 1px solid #ddd; }
        .grid-wrapper { padding: 15px; overflow-y: auto; flex: 1; }
        .question-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; }
        .q-btn { width: 100%; aspect-ratio: 1; border: 1px solid #bdc3c7; background: white; border-radius: 4px; cursor: pointer; font-weight: bold; color: #7f8c8d; transition: 0.2s; }
        .q-btn:hover { border-color: var(--primary); }
        .q-btn.current { border: 2px solid var(--primary); color: var(--primary); }
        .q-btn.answered { background-color: var(--primary); color: white; border-color: var(--primary); }

        .finish-btn { margin: 15px; padding: 15px; background-color: #e74c3c; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .finish-btn:hover { background-color: #c0392b; }

        .controls { padding: 15px 30px; background: white; border-top: 1px solid #ddd; display: flex; justify-content: space-between; }
        .nav-btn { padding: 10px 30px; background-color: var(--primary); color: white; border: none; border-radius: 5px; font-size: 1rem; cursor: pointer; }
        .nav-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; }

        #result-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal-box { background: white; padding: 40px; border-radius: 10px; text-align: center; width: 90%; max-width: 400px; }
        .score-val { font-size: 3rem; font-weight: 800; color: var(--primary); margin: 20px 0; }
        
        @media (max-width: 768px) { .sidebar-nav { display: none; } .options-list.grid-view { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<header>
    <div class="logo">Easy<span>Math</span> | –ê“ö–´–õ–´ –ù“∞–°“ö–ê 1</div>
    <div class="timer-display" id="timer">01:30:00</div>
</header>

<div class="main-container">
    <div class="question-area">
        <div class="q-header">–°“±—Ä–∞“õ <span id="q-num">1</span> / <span id="q-total"></span></div>
        <div class="q-image-container" id="q-img-box">
            <img src="" id="q-img" class="q-image" alt="–°“±—Ä–∞“õ —Å—É—Ä–µ—Ç—ñ">
        </div>
        <div id="q-content"></div>
    </div>
    <div class="sidebar-nav">
        <div class="nav-title">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
        <div class="grid-wrapper"><div class="question-grid" id="q-grid"></div></div>
        <button class="finish-btn" onclick="finishTest()">–ê—è“õ—Ç–∞—É</button>
    </div>
</div>

<div class="controls">
    <button class="nav-btn" id="btn-prev" onclick="prevQuestion()">‚ùÆ –ê–ª–¥—ã“£“ì—ã</button>
    <button class="nav-btn" id="btn-next" onclick="nextQuestion()">–ö–µ–ª–µ—Å—ñ ‚ùØ</button>
</div>

<div id="result-modal">
    <div class="modal-box">
        <h2>–¢–µ—Å—Ç –∞—è“õ—Ç–∞–ª–¥—ã!</h2>
        <p>–°—ñ–∑–¥—ñ“£ –Ω”ô—Ç–∏–∂–µ“£—ñ–∑:</p>
        <div class="score-val" id="final-score">0</div>
        
        <button class="nav-btn" style="background-color: #3498db; border: none; margin-bottom: 10px;" onclick="sendToTelegram()">
            üöÄ –ù”ô—Ç–∏–∂–µ–Ω—ñ –∂—ñ–±–µ—Ä—É
        </button>
        
        <button class="nav-btn" onclick="location.reload()">“ö–∞–π—Ç–∞ —Ç–∞–ø—Å—ã—Ä—É</button>
        <br><br>
        <a href="index.html" style="color: #777;">–ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ “õ–∞–π—Ç—É</a>
    </div>
</div>

<script>
    // --- –î–ï–†–ï–ö–¢–ï–† –ë–ê–ó–ê–°–´ ---
    const quizData = [
        { q: "”®—Ä–Ω–µ–∫—Ç—ñ —ã“õ—à–∞–º–¥–∞“£—ã–∑: \\( \\sqrt{(3+\\sqrt{3})^2} + \\sqrt{(\\sqrt{3}-2)^2} \\)", opts: ["4", "5", "3", "\\sqrt{3}"], correct: [1], type: "single" },
        { q: "–ê–º–∞–ª–¥–∞—Ä–¥—ã –æ—Ä—ã–Ω–¥–∞“£—ã–∑: \\( |||-2|-3|-4| \\)", opts: ["3", "5", "9", "7"], correct: [1], type: "single" },
        { q: "”®—Ä–Ω–µ–∫—Ç—ñ —ã“õ—à–∞–º–¥–∞“£—ã–∑: \\( \\frac{1}{1+ctg^2 2\\alpha} + \\frac{1}{1+tg^2 2\\alpha} \\)", opts: ["\\sin 2\\alpha", "\\cos 2\\alpha", "2", "1"], correct: [3], type: "single" },
        { q: "”®—Ä–Ω–µ–∫—Ç—ñ —ã“õ—à–∞–º–¥–∞“£—ã–∑: \\( \\frac{6x^2}{x-2} - 6x \\)", opts: ["\\frac{-12x}{x-2}", "\\frac{12x}{x-2}", "-\\frac{12x}{x+2}", "\\frac{12x^2+12x}{x-2}"], correct: [1], type: "single" },
        { q: "–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à—ñ–ø, —Ç“Ø–±—ñ—Ä–ª–µ—Ä—ñ–Ω—ñ“£ –∫”©–±–µ–π—Ç—ñ–Ω–¥—ñ—Å—ñ–Ω —Ç–∞–±—ã“£—ã–∑: \\( |x^2 - 3x| = 4 \\)", opts: ["-4", "2", "3", "-3"], correct: [0], type: "single" },
        { q: "–ï–∫—ñ —Å–∞–Ω–Ω—ã“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã 57-–≥–µ —Ç–µ“£. –ë—ñ—Ä—ñ–Ω—à—ñ —Å–∞–Ω –µ–∫—ñ–Ω—à—ñ —Å–∞–Ω–Ω–∞–Ω 7-–≥–µ –∞—Ä—Ç—ã“õ. –û—Å—ã —Å–∞–Ω–¥–∞—Ä–¥—ã —Ç–∞–±—ã“£—ã–∑.", opts: ["36 –∂”ô–Ω–µ 21", "25 –∂”ô–Ω–µ 36", "32 –∂”ô–Ω–µ 25", "33 –∂”ô–Ω–µ 24"], correct: [2], type: "single" },
        { q: "–§—É–Ω–∫—Ü–∏—è–Ω—ã“£ —Ç—É—ã–Ω–¥—ã—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑: \\( f(x) = -7\\sin x + 2tg x \\)", opts: ["\\( f'(x) = 7\\cos x + \\frac{2}{\\cos^2 x} \\)", "\\( f'(x) = -7\\cos x + \\frac{1}{\\cos^2 x} \\)", "\\( f'(x) = -7\\cos x + \\frac{2}{\\cos^2 x} \\)", "\\( f'(x) = -7\\cos x + \\frac{2}{\\sin^2 x} \\)"], correct: [2], type: "single" },
        { q: "“Æ—à–±“±—Ä—ã—à—Ç—ã –ø—Ä–∏–∑–º–∞–Ω—ã“£ –±–∏—ñ–∫—Ç—ñ–≥—ñ 12 —Å–º, –∞–ª —Ç–∞–±–∞–Ω “õ–∞–±—ã—Ä“ì–∞–ª–∞—Ä—ã 15 —Å–º, 14 —Å–º, 13 —Å–º. –ü—Ä–∏–∑–º–∞–Ω—ã“£ –∫”©–ª–µ–º—ñ–Ω —Ç–∞–±—ã“£—ã–∑.", opts: ["1014 —Å–º¬≥", "1012 —Å–º¬≥", "1010 —Å–º¬≥", "1008 —Å–º¬≥"], correct: [3], type: "single" },
        { q: "–¢–µ“£—Å—ñ–∑–¥—ñ–∫—Ç–µ—Ä –∂“Ø–π–µ—Å—ñ–Ω —à–µ—à—ñ“£—ñ–∑: \\( \\begin{cases} x^2 - 25 < 0 \\\\ 36 - x^2 \\ge 0 \\end{cases} \\)", opts: ["(-6; 6)", "(-5; 5)", "[-6; 6]", "[-5; 5]"], correct: [1], type: "single" },
        { q: "–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à—ñ“£—ñ–∑: \\( \\sqrt{x^4 + 19} = 10 \\)", opts: ["-3; 3", "-6; 6", "-5; 5", "-4; 4"], correct: [0], type: "single" },
        { q: "\\( y = 5x - x^2 \\) —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω—ã“£ –≥—Ä–∞—Ñ–∏–≥—ñ –∂”ô–Ω–µ \\( x=1, x=4, y=0 \\) —Ç“Ø–∑—É–ª–µ—Ä—ñ–º–µ–Ω —à–µ–∫—Ç–µ–ª–≥–µ–Ω —Ñ–∏–≥—É—Ä–∞–Ω—ã“£ –∞—É–¥–∞–Ω—ã–Ω —Ç–∞–±—ã“£—ã–∑.", opts: ["16,5 –∫–≤. –±—ñ—Ä–ª", "18,5 –∫–≤. –±—ñ—Ä–ª", "17,8 –∫–≤. –±—ñ—Ä–ª", "13,2 –∫–≤. –±—ñ—Ä–ª"], correct: [0], type: "single" },
        { q: "\\( \\cos x > -\\frac{1}{2} \\) —Ç–µ“£—Å—ñ–∑–¥—ñ–≥—ñ–Ω—ñ“£ —à–µ—à—ñ–º—ñ:", opts: ["\\( (-\\frac{\\pi}{3} + \\pi n; \\frac{\\pi}{3} + \\pi n), n \\in Z \\)", "\\( (-\\frac{\\pi}{6} + \\pi n; \\frac{5\\pi}{6} + \\pi n), n \\in Z \\)", "\\( (\\frac{\\pi}{6} + 2\\pi n; \\frac{5\\pi}{6} + 2\\pi n), n \\in Z \\)", "\\( (-\\frac{2\\pi}{3} + 2\\pi n; \\frac{2\\pi}{3} + 2\\pi n), n \\in Z \\)"], correct: [3], type: "single" },
        { q: "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–ª—ã“õ —Å”ô—É–ª–µ–¥–µ \\( A(-3) \\) –∂”ô–Ω–µ \\( B(6) \\) –Ω“Ø–∫—Ç–µ–ª–µ—Ä—ñ –±–µ—Ä—ñ–ª–≥–µ–Ω. \\( AB \\) –∫–µ—Å—ñ–Ω–¥—ñ—Å—ñ–Ω—ñ“£ “±–∑—ã–Ω–¥—ã“ì—ã–Ω —Ç–∞–±—ã“£—ã–∑.", opts: ["3", "6", "9", "10"], correct: [2], type: "single" },
        { q: "–§—É–Ω–∫—Ü–∏—è–Ω—ã“£ —Ç—É—ã–Ω–¥—ã—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑: \\( f(x) = x^2 + \\cos 4x \\)", opts: ["\\( f'(x) = 2x - 4\\cos 4x \\)", "\\( f'(x) = 2x - \\cos 4x \\)", "\\( f'(x) = 2x - 4\\sin 4x \\)", "\\( f'(x) = 2x + 4\\sin 4x \\)"], correct: [2], type: "single" },
        { q: "“ö—ã—Ä—ã 6 —Å–º –±–æ–ª–∞—Ç—ã–Ω –æ–∫—Ç–∞—ç–¥—Ä–¥—ñ“£ –±–µ—Ç—ñ–Ω—ñ“£ –∞—É–¥–∞–Ω—ã–Ω —Ç–∞–±—ã“£—ã–∑", opts: ["\\( 72 \\text{ —Å–º}^2 \\)", "\\( 72\\sqrt{3} \\text{ —Å–º}^2 \\)", "\\( 72\\sqrt{2} \\text{ —Å–º}^2 \\)", "\\( 72\\sqrt{6} \\text{ —Å–º}^2 \\)"], correct: [1], type: "single" },
        { q: "–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à—ñ“£—ñ–∑: \\( \\sqrt[4]{7} \\cdot (\\frac{1}{7})^{4x-5} = \\frac{1}{7^{2x+3}} \\)", opts: ["4,25", "4,125", "-2,5", "-8,25"], correct: [0], type: "single" },
        { q: "–¢–µ“£–¥–µ—É–ª–µ—Ä –∂“Ø–π–µ—Å—ñ–Ω —à–µ—à—ñ“£—ñ–∑: \\( \\begin{cases} x+y = \\frac{\\pi}{2} \\\\ \\sin 2x + \\cos 2y = 1 \\end{cases} \\)", opts: ["1-–∂–∞—É–∞–ø", "2-–∂–∞—É–∞–ø", "\\( (\\frac{\\pi}{2} - \\pi n; \\pi n); (\\frac{\\pi}{4} - \\pi n; \\frac{\\pi}{4} + \\pi n), n \\in Z \\)", "4-–∂–∞—É–∞–ø"], correct: [2], type: "single" },
        { q: "\\( f(x) = 4x^2 - 2 \\) —Ñ—É–Ω–∫—Ü–∏—è—Å—ã–Ω—ã“£ –≥—Ä–∞—Ñ–∏–≥—ñ–Ω–µ –∞–±—Å—Ü–∏—Å—Å–∞—Å—ã \\( x_0 = -1 \\) –±–æ–ª–∞—Ç—ã–Ω –Ω“Ø–∫—Ç–µ–¥–µ –∂“Ø—Ä–≥—ñ–∑—ñ–ª–≥–µ–Ω –∂–∞–Ω–∞–º–∞–Ω—ã“£ —Ç–µ“£–¥–µ—É—ñ–Ω –∂–∞–∑—ã“£—ã–∑", opts: ["y = 8x + 5", "y = -8x + 6", "y = 8x - 5", "y = -8x - 6"], correct: [3], type: "single" },
        { q: "ABCD —Ç–µ“£–±“Ø–π—ñ—Ä–ª—ñ —Ç—Ä–∞–ø–µ—Ü–∏—è—Å—ã–Ω–∞ —Å—ã—Ä—Ç—Ç–∞–π —à–µ“£–±–µ—Ä —Å—ã–∑—ã–ª“ì–∞–Ω. \\( \\angle CAD = 60^\\circ, AD = 5, \\angle ABC \\) –±“±—Ä—ã—à—ã —à–µ“£–±–µ—Ä–¥—ñ“£ –¥–∏–∞–º–µ—Ç—Ä—ñ–Ω–µ —Ç—ñ—Ä–µ–ª–µ–¥—ñ. –®–µ“£–±–µ—Ä–¥—ñ“£ —Ä–∞–¥–∏—É—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑.", opts: ["5", "4", "6", "3"], correct: [0], type: "single" },
        { q: "\\( 1; -\\frac{1}{2}; \\frac{1}{4}; -\\frac{1}{8}; ... \\) —Ç—ñ–∑–±–µ–≥—ñ –±–µ—Ä—ñ–ª–≥–µ–Ω. –ê–ª“ì–∞—à“õ—ã —Ç–µ—Ä—ñ—Å —Ç”©—Ä—Ç –º“Ø—à–µ—Å—ñ–Ω—ñ“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑.", opts: ["-\\frac{17}{16}", "-\\frac{25}{32}", "-\\frac{85}{128}", "-\\frac{13}{64}"], correct: [2], type: "single" },

        // 21-30
        { q: "<b>–ú”ô—Ç—ñ–Ω–¥—ñ–∫ –µ—Å–µ–ø: –®—Ç—Ä–∏—Ö-–∫–æ–¥</b><br>–ï–≥–µ—Ä –∞–ª“ì–∞—à“õ—ã –∂–µ—Ç—ñ —Ü–∏—Ñ—Ä 2357148 –±–æ–ª—Å–∞, –æ–Ω–¥–∞ —Ç–µ–∫—Å–µ—Ä—É—à—ñ —Ü–∏—Ñ—Ä:", img: "q21.jpg", opts: ["2", "8", "7", "0"], correct: [1], type: "single" },
        { q: "<b>–ú”ô—Ç—ñ–Ω–¥—ñ–∫ –µ—Å–µ–ø: –®—Ç—Ä–∏—Ö-–∫–æ–¥</b><br>10000Y01 —à—Ç—Ä–∏—Ö-–∫–æ–¥—ã–Ω—ã“£ –±–µ–ª–≥—ñ—Å—ñ–∑ Y —Ü–∏—Ñ—Ä—ã–Ω —Ç–∞–±—ã“£—ã–∑:", img: "q22.jpg", opts: ["1", "0", "3", "6"], correct: [0], type: "single" },
        { q: "<b>–ú”ô—Ç—ñ–Ω–¥—ñ–∫ –µ—Å–µ–ø: –®—Ç—Ä–∏—Ö-–∫–æ–¥</b><br>173610C7 —à—Ç—Ä–∏—Ö-–∫–æ–¥—ã–Ω–¥–∞“ì—ã –±–µ–ª–≥—ñ—Å—ñ–∑ C —Å–∞–Ω—ã–Ω —Ç–∞–±—ã“£—ã–∑:", img: "q23.jpg", opts: ["1", "3", "5", "4"], correct: [2], type: "single" },
        { q: "<b>–ú”ô—Ç—ñ–Ω–¥—ñ–∫ –µ—Å–µ–ø: –®—Ç—Ä–∏—Ö-–∫–æ–¥</b><br>712T5134 —à—Ç—Ä–∏—Ö-–∫–æ–¥—ã–Ω—ã“£ –±–µ–ª–≥—ñ—Å—ñ–∑ T —Ü–∏—Ñ—Ä—ã–Ω —Ç–∞–±—ã“£—ã–∑:", img: "q24.jpg", opts: ["3", "5", "2", "6"], correct: [1], type: "single" },
        { q: "<b>–ú”ô—Ç—ñ–Ω–¥—ñ–∫ –µ—Å–µ–ø: –®—Ç—Ä–∏—Ö-–∫–æ–¥</b><br>–®—Ç—Ä–∏—Ö-–∫–æ–¥—Ç–∞ ”©–Ω–¥—ñ—Ä—É—à—ñ–Ω—ñ“£ –º–µ–º–ª–µ–∫–µ—Ç—ñ –∂–∞–π–ª—ã –∞“õ–ø–∞—Ä–∞—Ç –±–µ—Ä–µ—Ç—ñ–Ω —Ü–∏—Ñ—Ä–ª–∞—Ä–¥—ã“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã 15-–∫–µ —Ç–µ“£, ”©–Ω–¥—ñ—Ä—É—à—ñ–Ω—ñ“£ –±–µ—Ä–µ—Ç—ñ–Ω –∫–æ–¥—ã 3104, –∞–ª —Ç–µ–∫—Å–µ—Ä—É—à—ñ —Å–∞–Ω 5-–∫–µ —Ç–µ“£. –ï–∫—ñ–Ω—à—ñ –æ—Ä—ã–Ω–¥–∞ —Ç“±—Ä–∞—Ç—ã–Ω —Ü–∏—Ñ—Ä–¥—ã“£ –±–∞—Ä–ª—ã“õ –º“Ø–º–∫—ñ–Ω –º”ô–Ω–¥–µ—Ä—ñ–Ω—ñ“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑.", img: "q25.jpg", opts: ["15", "17", "13", "12"], correct: [2], type: "single" },
        { q: "\\( \\vec{a}(1; 0; 2) \\) –∂”ô–Ω–µ \\( \\vec{b}(2; 1; 0) \\) –≤–µ–∫—Ç–æ—Ä–ª–∞—Ä—ã–Ω—ã“£ –∞—Ä–∞—Å—ã–Ω–¥–∞“ì—ã –±“±—Ä—ã—à—Ç—ã —Ç–∞–±—ã“£—ã–∑", img: "q26.jpg", opts: ["\\( \\arccos 0,4 \\)", "\\( \\arccos 0,1 \\)", "\\( \\arccos 0,2 \\)", "\\( \\arccos 0,6 \\)"], correct: [0], type: "single" },
        { q: "\\( x^6 - x^5 - 2x^4 + x^2 - x - 2 \\) –∫”©–ø–º“Ø—à–µ—Å—ñ–Ω—ñ“£ –±“Ø—Ç—ñ–Ω —Ç“Ø–±—ñ—Ä–ª–µ—Ä—ñ–Ω—ñ“£ —Å–∞–Ω—ã", img: "q27.jpg", opts: ["2", "3", "1", "6"], correct: [0], type: "single" },
        { q: "–¢–µ“£–¥–µ—É–¥—ñ —à–µ—à—ñ“£—ñ–∑: \\( \\log_8(x-2) + \\log_8(x+2) = \\log_8(4x+41) \\)", img: "q28.jpg", opts: ["4", "9; -5", "5; -9", "9"], correct: [3], type: "single" },
        { q: "–°—É—Ä–µ—Ç—Ç–µ –±–µ—Ä—ñ–ª–≥–µ–Ω —Ç–µ“£—Å—ñ–∑–¥—ñ–∫—Ç—ñ“£ —à–µ—à—ñ–º—ñ (–±–æ—è–ª“ì–∞–Ω –∞–π–º–∞“õ):", img: "q29.jpg", opts: ["\\( y < -3x + 7 \\)", "\\( y \\le -3x + 7 \\)", "\\( y > -2x + 8 \\)", "\\( y \\ge -2x + 8 \\)"], correct: [1], type: "single" },
        { q: "\\( \\int_0^1 (2x-1)^6 dx \\) –∏–Ω—Ç–µ–≥—Ä–∞–ª—ã–Ω –µ—Å–µ–ø—Ç–µ“£—ñ–∑", img: "q30.jpg", opts: ["\\frac{1}{7}", "\\frac{1}{6}", "\\frac{2}{7}", "\\frac{3}{7}"], correct: [0], type: "single" },

        // 31-40
        { q: "\\( A(m; -n) \\) –Ω“Ø–∫—Ç–µ—Å—ñ \\( y = x^2 - 3x + 2 \\) –ø–∞—Ä–∞–±–æ–ª–∞—Å—ã–Ω—ã“£ —Ç”©–±–µ—Å—ñ. –°”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:<br>–ê) m –º”ô–Ω—ñ<br>B) n –º”ô–Ω—ñ", img: "q31.jpg", opts: ["-0,35", "0,25", "1,5", "2,5", "-1,5", "0,5", "1,25", "-2,5"], correct: [1, 2], type: "multiple" },
        { q: "–î”©“£–≥–µ–ª–µ–∫–∫–µ “±–∑—ã–Ω–¥—ã“ì—ã \\( 10\\sqrt{3} \\) —Å–º-–≥–µ —Ç–µ“£ –∂”ô–Ω–µ –¥–∏–∞–≥–æ–Ω–∞–ª—ñ –µ–Ω—ñ–º–µ–Ω 60 –≥—Ä–∞–¥—É—Å –±“±—Ä—ã—à –∂–∞—Å–∞–π—Ç—ã–Ω —Ç—ñ–∫—Ç”©—Ä—Ç–±“±—Ä—ã—à —ñ—à—Ç–µ–π —Å—ã–∑—ã–ª“ì–∞–Ω. –°”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:<br>A) –î”©“£–≥–µ–ª–µ–∫—Ç—ñ“£ –¥–∏–∞–º–µ—Ç—Ä—ñ<br>B) –¢—ñ–∫—Ç”©—Ä—Ç–±“±—Ä—ã—à—Ç—ã“£ –µ–Ω—ñ", img: "q32.jpg", opts: ["5 —Å–º", "10 —Å–º", "15 —Å–º", "20 —Å–º", "25 —Å–º", "12 —Å–º", "8 —Å–º", "18 —Å–º"], correct: [1, 3], type: "multiple" },
        { q: "\\( 0,6xy^2 \\cdot (5xy^6)^2 \\) ”©—Ä–Ω–µ–≥—ñ–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ç“Ø—Ä–≥–µ –∫–µ–ª—Ç—ñ—Ä—ñ–ø, —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:<br>A) –ë—ñ—Ä–º“Ø—à–µ–Ω—ñ“£ –¥”ô—Ä–µ–∂–µ—Å—ñ<br>B) –ë—ñ—Ä–º“Ø—à–µ–Ω—ñ“£ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ñ", img: "q33.jpg", opts: ["14", "15", "16", "17", "18", "12", "13", "10"], correct: [1, 3], type: "multiple" },
        { q: "\\( x_1 \\) –º–µ–Ω \\( x_2 \\) –º—ã–Ω–∞ —Ç–µ“£–¥–µ—É–¥—ñ“£ \\( x^2 - 2x - 2 = 0 \\) —Ç“Ø–±—ñ—Ä–ª–µ—Ä—ñ. –ú”ô–Ω–¥–µ—Ä—ñ–º–µ–Ω —Å”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:<br>A) \\( x_1^2 + x_2^2 \\)<br>B) \\( x_1 + x_2 - x_1 \\cdot x_2 \\)", img: "q34.jpg", opts: ["8", "0", "2", "4", "6", "-2", "10", "12"], correct: [0, 3], type: "multiple" },
        { q: "\\( \\{a_n\\} \\) –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞–ª—ã“õ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è—Å—ã “Ø—à—ñ–Ω \\( S_5 = 60, S_8 = 144 \\) –∂”ô–Ω–µ \\( S_n = 312 \\). –°”ô–π–∫–µ—Å—Ç–µ–Ω–¥—ñ—Ä—ñ“£—ñ–∑:<br>A) \\( a_1 \\) –º”ô–Ω—ñ<br>B) \\( n \\) –º”ô–Ω—ñ", img: "q35.jpg", opts: ["4", "7", "10", "12", "8", "6", "14", "16"], correct: [0, 3], type: "multiple" },
        { q: "–¢”©–º–µ–Ω–¥–µ–≥—ñ –∂–∞—É–∞–ø—Ç–∞—Ä–¥—ã“£ —ñ—à—ñ–Ω–µ–Ω \\( 4(2c+3) + 5c \\) ”©—Ä–Ω–µ–≥—ñ–Ω—ñ“£ \\( c=4 \\) –±–æ–ª“ì–∞–Ω–¥–∞“ì—ã –º”ô–Ω—ñ–Ω—ñ“£ –±”©–ª–≥—ñ—à—Ç–µ—Ä—ñ–Ω –∫”©—Ä—Å–µ—Ç—ñ“£—ñ–∑ (–ú”ô–Ω—ñ: 64)", img: "q36.jpg", opts: ["7", "6", "8", "5", "4", "9", "3", "10"], correct: [2, 4], type: "multiple" },
        { q: "\\( \\frac{8\\pi}{3} \\)-–≥–µ —Ç–µ“£ –±“±—Ä—ã—à—Ç—ã –≥—Ä–∞–¥—É—Å –∞—Ä“õ—ã–ª—ã ”©—Ä–Ω–µ–∫—Ç–µ“£—ñ–∑ (–±—ñ—Ä–Ω–µ—à–µ –∂–∞—É–∞–ø –±–æ–ª—É—ã –º“Ø–º–∫—ñ–Ω)", img: "q37.jpg", opts: ["490", "460", "470", "450", "440", "480", "500", "520"], correct: [5], type: "multiple" },
        { q: "\\( \\{a_n\\} \\) –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞–ª—ã“õ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è–Ω—ã“£ –∞–ª“ì–∞—à“õ—ã n –º“Ø—à–µ—Å—ñ–Ω—ñ“£ “õ–æ—Å—ã–Ω–¥—ã—Å—ã \\( S_n = 4n^2 + n \\) –∞—Ä“õ—ã–ª—ã –±–µ—Ä—ñ–ª–≥–µ–Ω. –ë—ñ—Ä—ñ–Ω—à—ñ –º“Ø—à–µ—Å—ñ –º–µ–Ω –∞–π—ã—Ä–º–∞—Å—ã–Ω —Ç–∞–±—ã“£—ã–∑.", img: "q38.jpg", opts: ["5", "1", "8", "9", "2", "4", "3", "6"], correct: [0, 2], type: "multiple" },
        { q: "–ï–≥–µ—Ä \\( (x_0; y_0) \\) —Å–∞–Ω–¥–∞—Ä –∂“±–±—ã \\( \\begin{cases} x^y = 2^7 \\\\ y - \\log_2 x = 6 \\end{cases} \\) –∂“Ø–π–µ—Å—ñ–Ω—ñ“£ —à–µ—à—ñ–º—ñ –±–æ–ª—Å–∞, \\( \\frac{y_0}{x_0} \\) —Ç–∞–±—ã“£—ã–∑.", img: "q39.jpg", opts: ["3,5", "128", "-128", "-7,5", "64", "-3,5", "7", "2"], correct: [0], type: "multiple" },
        { q: "–¶–∏–ª–∏–Ω–¥—Ä–¥–µ –µ–∫—ñ “õ–∏–º–∞ –∂–∞–∑—ã“õ—Ç—ã“ì—ã –∂“Ø—Ä–≥—ñ–∑—ñ–ª–≥–µ–Ω: –±—ñ—Ä–µ—É—ñ ”©—Å—ñ –∞—Ä“õ—ã–ª—ã, –µ–∫—ñ–Ω—à—ñ—Å—ñ ”©—Å–∫–µ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä. –ü–∞–π–¥–∞ –±–æ–ª“ì–∞–Ω “õ–∏–º–∞–ª–∞—Ä–¥—ã“£ –∞—É–¥–∞–Ω—ã–Ω —Ç–∞–±—ã“£—ã–∑ (d=10, h=8 –±–æ–ª—Å–∞)", img: "q40.jpg", opts: ["24", "9\\pi", "64", "100\\pi", "36\\pi", "48", "80", "10\\pi"], correct: [4, 5], type: "multiple" }
    ];

    let userAnswers = new Array(quizData.length).fill(null).map(() => []);
    let currentQ = 0;
    let timeLeft = 90 * 60;

    function init() {
        document.getElementById('q-total').innerText = quizData.length;
        renderGrid();
        loadQuestion(0);
        setInterval(timerTick, 1000);
    }

    function timerTick() {
        if(timeLeft <= 0) return;
        timeLeft--;
        let h = Math.floor(timeLeft / 3600);
        let m = Math.floor((timeLeft % 3600) / 60);
        let s = timeLeft % 60;
        document.getElementById('timer').innerText = `${h<10?'0':''}${h}:${m<10?'0':''}${m}:${s<10?'0':''}${s}`;
    }

    function renderGrid() {
        const grid = document.getElementById('q-grid');
        grid.innerHTML = '';
        quizData.forEach((_, idx) => {
            let btn = document.createElement('button');
            btn.className = 'q-btn';
            btn.innerText = idx + 1;
            btn.onclick = () => loadQuestion(idx);
            btn.id = `q-btn-${idx}`;
            grid.appendChild(btn);
        });
    }

    function loadQuestion(idx) {
        currentQ = idx;
        document.getElementById('q-num').innerText = idx + 1;
        document.querySelectorAll('.q-btn').forEach(b => b.classList.remove('current'));
        document.getElementById(`q-btn-${idx}`).classList.add('current');

        const qData = quizData[idx];
        let contentHtml = `<div class="q-text">${qData.q}</div>`;

        const imgContainer = document.getElementById('q-img-box');
        const imgElement = document.getElementById('q-img');
        if (qData.img) {
            imgContainer.style.display = "block";
            imgElement.src = qData.img;
            imgElement.onerror = function() { this.style.display = 'none'; };
            imgElement.onload = function() { this.style.display = 'inline-block'; };
        } else {
            imgContainer.style.display = "none";
        }

        const gridClass = qData.opts.length > 5 ? 'grid-view' : '';
        contentHtml += `<div class="options-list ${gridClass}">`;
        const letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
        qData.opts.forEach((opt, i) => {
            const isSelected = userAnswers[idx].includes(i);
            const activeClass = isSelected ? 'active' : '';
            const typeClass = qData.type === 'multiple' ? 'multiple' : '';
            const letter = letters[i] || '';
            contentHtml += `
                <div class="option-label ${activeClass} ${typeClass}" onclick="toggleOption(${i}, '${qData.type}')">
                    <div class="marker">${letter}</div>
                    <div>\\(${opt}\\)</div>
                </div>
            `;
        });
        contentHtml += `</div>`;
        document.getElementById('q-content').innerHTML = contentHtml;
        MathJax.typeset();
        
        document.getElementById('btn-prev').disabled = (idx === 0);
        document.getElementById('btn-next').disabled = (idx === quizData.length - 1);
    }

    function toggleOption(optIdx, type) {
        if (type === 'single') {
            userAnswers[currentQ] = [optIdx];
        } else {
            const index = userAnswers[currentQ].indexOf(optIdx);
            if (index > -1) userAnswers[currentQ].splice(index, 1);
            else userAnswers[currentQ].push(optIdx);
        }
        // Update UI
        const opts = document.querySelectorAll('.option-label');
        opts.forEach((el, i) => {
            if (userAnswers[currentQ].includes(i)) {
                el.classList.add('active');
                el.querySelector('.marker').style.borderColor = '#3498db';
                el.querySelector('.marker').style.background = '#3498db';
                el.querySelector('.marker').style.color = 'white';
            } else {
                el.classList.remove('active');
                el.querySelector('.marker').style.borderColor = '#bdc3c7';
                el.querySelector('.marker').style.background = 'transparent';
                el.querySelector('.marker').style.color = '#7f8c8d';
            }
        });
        // Update Grid
        const gridBtn = document.getElementById(`q-btn-${currentQ}`);
        if (userAnswers[currentQ].length > 0) gridBtn.classList.add('answered');
        else gridBtn.classList.remove('answered');
    }

    function nextQuestion() {
        if (currentQ < quizData.length - 1) loadQuestion(currentQ + 1);
    }
    function prevQuestion() {
        if (currentQ > 0) loadQuestion(currentQ - 1);
    }

    function finishTest() {
        let score = 0;
        quizData.forEach((q, i) => {
            const userAns = userAnswers[i].sort().join(',');
            const correctAns = q.correct.sort().join(',');
            if (userAns === correctAns && userAns !== "") score++;
        });
        document.getElementById('final-score').innerText = `${score} / ${quizData.length}`;
        document.getElementById('result-modal').style.display = 'flex';
    }

    // --- TELEGRAM –§–£–ù–ö–¶–ò–Ø–°–´ ---
   function sendToTelegram() {
        const botToken = "8326562957:AAFgwfes-ul2rDLV02LJVkkJ_bOzwIRpVxc";
        const chatId = "1221733414";
        
        // –ú–´–ù–ê –ñ–ï–†–ì–ï –ñ–ê“¢–ê“í–´ “∞–ó–´–ù –°–Ü–õ–¢–ï–ú–ï–ù–Ü “ö–û–ô:
        const googleScriptUrl = "https://script.google.com/macros/s/AKfycbxQmq-WI2VfOMEEahuk_S8WPIZHKmuKIv7lrZhP6K4nI5pyEi5DjFV9ngbCTSlbJn4A5A/exec"; 

        let studentName = prompt("–ù”ô—Ç–∏–∂–µ–Ω—ñ —Å–∞“õ—Ç–∞—É “Ø—à—ñ–Ω –∞—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑–¥—ñ –∂–∞–∑—ã“£—ã–∑:");
        
        if (studentName) {
            let btn = document.querySelector("#result-modal button");
            if(btn) { btn.disabled = true; btn.innerText = "–ñ—ñ–±–µ—Ä—ñ–ª—É–¥–µ..."; }

            let scoreText = document.getElementById("final-score").innerText;

            // 1. GOOGLE SHEETS-–ö–ï –ñ–Ü–ë–ï–†–£ (–ê–≤—Ç–æ–º–∞—Ç—Ç—ã —Ç“Ø—Ä–¥–µ)
            fetch(googleScriptUrl + "?action=save&name=" + encodeURIComponent(studentName) + "&score=" + encodeURIComponent(scoreText), {
                method: "POST",
                mode: "no-cors" // –ë“±–ª “õ–∞—Ç–µ —à—ã“õ–ø–∞—Å “Ø—à—ñ–Ω –∫–µ—Ä–µ–∫
            }).then(() => {
                console.log("Saved to Sheets");
            });

            // 2. TELEGRAM-“í–ê –ñ–Ü–ë–ï–†–£
            let message = `üöÄ –ñ–ê“¢–ê –ù”ò–¢–ò–ñ–ï!%0Aüë§ –û“õ—É—à—ã: ${studentName}%0A‚úÖ –ë–∞–ª–ª: ${scoreText}`;
            let url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}`;

            fetch(url)
            .then(res => {
                if (res.ok) {
                    alert("–ù”ô—Ç–∏–∂–µ “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã! –†–µ–π—Ç–∏–Ω–≥–∫–µ “õ–æ—Å—ã–ª–¥—ã ‚úÖ");
                    if(btn) btn.innerText = "–ñ—ñ–±–µ—Ä—ñ–ª–¥—ñ";
                } else {
                    alert("“ö–∞—Ç–µ! –¢–æ–∫–µ–Ω–¥—ñ —Ç–µ–∫—Å–µ—Ä—ñ“£—ñ–∑.");
                    if(btn) { btn.disabled = false; btn.innerText = "“ö–∞–π—Ç–∞ –∂—ñ–±–µ—Ä—É"; }
                }
            })
            .catch(err => {
                window.open(url, '_blank');
                if(btn) btn.innerText = "–ñ—ñ–±–µ—Ä—ñ–ª–¥—ñ";
            });
        }
    }

    window.onload = init;
</script>

</body>
</html>